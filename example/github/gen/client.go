// Code generated by github.com/Yamashou/gqlgenc, DO NOT EDIT.

package gen

import (
	"context"

	"github.com/Yamashou/gqlgenc/client"
)

type Client struct {
	Client *client.Client
}
type LanguageFragment struct {
	ID   string "json:\"id\" graphql:\"id\""
	Name string "json:\"name\" graphql:\"name\""
}
type GetUser struct {
	Viewer struct {
		ID           string  "json:\"id\" graphql:\"id\""
		Name         *string "json:\"name\" graphql:\"name\""
		Repositories struct {
			Nodes []*struct {
				ID        string "json:\"id\" graphql:\"id\""
				Name      string "json:\"name\" graphql:\"name\""
				Languages *struct {
					Nodes []*LanguageFragment "json:\"nodes\" graphql:\"nodes\""
				} "json:\"languages\" graphql:\"languages\""
			} "json:\"nodes\" graphql:\"nodes\""
		} "json:\"repositories\" graphql:\"repositories\""
	} "json:\"viewer\" graphql:\"viewer\""
}

const GetUserQuery = `query GetUser ($repositoryFirst: Int!, $languageFirst: Int!) {
	viewer {
		id
		name
		repositories(first: $repositoryFirst, orderBy: {field:CREATED_AT,direction:DESC}) {
			nodes {
				id
				name
				languages(first: $languageFirst) {
					nodes {
						... LanguageFragment
					}
				}
			}
		}
	}
}
fragment LanguageFragment on Language {
	id
	name
}
`

func (c *Client) GetUser(ctx context.Context, repositoryFirst int, languageFirst int, httpRequestOptions ...client.HTTPRequestOption) (*GetUser, error) {
	vars := map[string]interface{}{
		"repositoryFirst": repositoryFirst,
		"languageFirst":   languageFirst,
	}

	var res GetUser
	if err := c.Client.Post(ctx, GetUserQuery, &res, vars, httpRequestOptions...); err != nil {
		return nil, err
	}

	return &res, nil
}
